# Global configuration for the application
global: 
  domain: testnet.verana.network 

# General configuration
name: verana-resolver
host: resolver
replicas: 1

# Image configuration
image:
  pullPolicy: IfNotPresent
  tag: "{{ .Chart.Version }}" # Kept aligned with chart version for consistency

# Service configuration
service:
  port: 3000
  targetPort: 3000

# Node scheduling preferences
nodeSelector:
  kubernetes.io/hostname: cluster-utc-node-07efe5

# Database configuration
database:
  enabled: true
  host: localhost
  port: "5432"
  user: verana
  password: verana
  db: verana_resolver
  resources:
    requests:
      cpu: 100m
      memory: 256Mi
    limits:
      cpu: 500m
      memory: 512Mi
  storage:
    size: 10Gi
    storageClassName: csi-cinder-classic

# Redis configuration
redis:
  enabled: true
  host: localhost
  resources:
    requests:
      cpu: 25m
      memory: 64Mi
    limits:
      cpu: 100m
      memory: 128Mi

# Application environment variables (non-infrastructure)
env:
  INDEXER_API: "http://localhost:1317"
  ECS_ECOSYSTEM_DIDS: ""
  PORT: "3000"
  LOG_LEVEL: "info"
  INSTANCE_ROLE: "leader"
  POLL_INTERVAL: "5"
  CACHE_TTL: "86400"
  TRUST_TTL: "3600"
  POLL_OBJECT_CACHING_RETRY_DAYS: "7"

# Extra environment variables (list of {name, value})
extraEnv: []

# Resource requests/limits for the resolver container
resources:
  requests:
    memory: "512Mi"
    cpu: "250m"
  limits:
    memory: "1Gi"
    cpu: "500m"

# Ingress configuration
ingress:
  host: "{{ .Values.host }}.{{ .Values.global.domain }}"
  tlsSecret: public.{{ .Values.host }}.{{ .Values.global.domain }}-cert
  public:
    enableCors: true
  private:
    enableCors: true
    whitelistSourceRange: "" # e.g. "xxx.xx.xxx.xxx/32"
    tlsSecret: "private.{{ .Values.host }}.{{ .Values.global.domain }}-cert"
    host: ""
