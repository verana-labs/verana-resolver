# Global configuration for the application
global: 
  domain: testnet.verana.network 

# General configuration
name: verana-resolver
host: resolver
replicas: 1

# Image configuration
image:
  pullPolicy: IfNotPresent
  tag: "{{ .Chart.Version }}" # Kept aligned with chart version for consistency

# Service configuration
service:
  type: ClusterIP
  port: 3000
  targetPort: 3000

# Node scheduling preferences
nodeSelector:
  kubernetes.io/hostname: cluster-utc-node-07efe5

# Environment variables consumed by the application
env:
  POSTGRES_HOST: "localhost"
  POSTGRES_PORT: "5432"
  POSTGRES_USER: "verana"
  POSTGRES_PASSWORD: "verana"
  POSTGRES_DB: "verana_resolver"
  REDIS_URL: "redis://localhost:6379"
  INDEXER_API: "http://localhost:1317"
  PORT: "3000"
  LOG_LEVEL: "info"
  INSTANCE_ROLE: "leader"
  POLL_INTERVAL: "5"
  CACHE_TTL: "86400"
  TRUST_TTL: "3600"
  POLL_OBJECT_CACHING_RETRY_DAYS: "7"
  ECS_ECOSYSTEM_DIDS: ""

# Additional env variables if needed (list of {name, value})
extraEnv: []

# Resource requests/limits for the resolver container
resources:
  requests:
    memory: "512Mi"
    cpu: "250m"
  limits:
    memory: "1Gi"
    cpu: "500m"

# Optional ingress configuration
ingress:
  enabled: true
  host: "{{ .Values.host }}.{{ .Values.global.domain }}"
  tlsSecret: public.{{ .Values.host }}.{{ .Values.global.domain }}-cert
  public:
    enableCors: true
  private:
    enableCors: true
    whitelistSourceRange: "" # e.g. "xxx.xx.xxx.xxx/32"
    tlsSecret: "private.{{ .Values.host }}.{{ .Values.global.domain }}-cert"
    host: ""
